<template name="listings">
    <div class="container" id="wrap">
        {{#if ready}}
            {{#if hasListings}}
                <div class="row">
                    {{#each listings}}
                        {{> listingCard}}
                    {{/each}}
                </div>
            {{else}}
                <p class="center">There are no listings.</p>
            {{/if}}
        {{else}}
            {{> spinner}}
        {{/if}}
    </div>
</template>

<template name="listingCard">
    <div class="col s12 m6 l3 animated fadeIn">
        <a href="/listing/{{_id}}">
            <div class="card small hoverable">
                {{#if pictureIds}}
                    <div class="card-image">
                        <img src="{{picture.link}}" alt="{{picture.name}}">
                    </div>
                {{/if}}
                <div class="card-content">
                    <p>{{title}}</p>
                    <p>${{price}}</p>
                    <p>{{city}}, {{state}}</p>
                </div>
            </div>
        </a>
    </div>
</template>